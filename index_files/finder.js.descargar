!function(e){var t={};function a(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(s,r,function(t){return e[t]}.bind(null,r));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=588)}({158:function(module,exports){function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}window.GuidelinesProductFinder={data:{},products:[],slides:[]},function(window){var finder="",globalStore={},BrandName="Guidelines",brandKey=".guidelines-product-finder",domainName=window.location.hostname,showReporting=!1,secureType="",shopId,lastStepClicked="",global_finderId="",global_shopId="",global_breadcrumbHistory=[],global_leadFormHistory=[],global_leadComplete=[],global_hasLeadData=!1,global_leadFormValues=[],global_totalSlides=0,global_landingPageAdjustment=0,global_leadRequiredList=[],global_versionId="",global_localtimezone=Intl.DateTimeFormat().resolvedOptions().timeZone,global_product_count=0,global_product_matches=0,global_leadStepLogIds=[],global_leadCaptureIds=[],uniqueSessionResultView=!1,finder_url=window.location.href,finder_url_parameter_name="guidelines",finder_url_parameter_value=decodeURIComponent((new RegExp("[?|&]"+finder_url_parameter_name+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||"",URL_search=window.location.search,URL_path=window.location.pathname,URL_refresh=URL_path+URL_search,tagsLoaded=!1,resultsRequested=!1,web_url,proxyURL;secureType="https:"!=window.location.protocol?"http:":"https:","nico.local"==domainName?(web_url="https://nico.local",proxyURL="https://nico.local",showReporting=!0):"qank.guidelinesproductfinder.com"==domainName?(web_url="https://qank.guidelinesproductfinder.com/",proxyURL="https://qank.guidelinesproductfinder.com/",showReporting=!0):"guidelinesproductfinder.com"==domainName?(web_url="https://guidelinesproductfinder.com/",proxyURL="https://guidelinesproductfinder.com/",showReporting=!0):(web_url="https://guidelinesproductfinder.com/",proxyURL="https://"+domainName+"/apps/guidelines",showReporting=!1);var s3_url="https://d21h25dhkwgass.cloudfront.net/",s3_url_json=secureType+"//d1832h3ylsolo6.cloudfront.net",searchPathName="preview-source",saveIntoAnna="";saveIntoAnna="nico.local"==domainName?-1:URL_path.indexOf(searchPathName);var tagSelections=[],tagSelectionObj={},sudo=[];tagSelectionObj.sudo="";var anna=[];tagSelectionObj.anna="";var reg=[];tagSelectionObj.reg="";var jsRegEx=[];tagSelectionObj.jsRegEx="";var steps=[];tagSelectionObj.steps="";var regCounter=0,checkBoxCheck=!0,TotalClickCount=0,Guidelines=function Guidelines($){"use strict";var defaults;defaults={slippryWrapper:'<div class="sy-box" />',slideWrapper:'<div class="sy-slides-wrap" />',slideCrop:'<div class="sy-slides-crop" />',boxClass:"sy-list",elements:"li",activeClass:"sy-active",fillerClass:"sy-filler",loadingClass:"sy-loading",adaptiveHeight:!0,start:1,loop:!0,captionsSrc:"img",captions:"overlay",captionsEl:".sy-caption",initSingle:!0,responsive:!0,preload:"visible",pager:!0,pagerClass:"sy-pager",controls:!0,controlClass:"sy-controls",prevClass:"sy-prev",prevText:"Previous",nextClass:"sy-next",nextText:"Next",hideOnEnd:!0,transition:"fade",kenZoom:120,slideMargin:0,transClass:"transition",speed:800,easing:"swing",continuous:!0,useCSS:!0,auto:!0,autoDirection:"next",autoHover:!0,autoHoverDelay:100,autoDelay:500,pause:4e3,onSliderLoad:function(){return this},onSlideBefore:function(){return this},onSlideAfter:function(){return this}},$.fn.slippry=function(e){var t,a,s,r,i,n,o,l,d,c,p,u,g,v,f,h,m,b,_,S,y,C,w;return 0===(a=this).length?this:a.length>1?(a.each((function(){$(this).slippry(e)})),this):((t={}).vars={},p=function(){var e,t,a;for(e in t=document.createElement("div"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd transitionend"})if(void 0!==t.style[e])return a[e]},_=function(){var e=document.createElement("div"),t=["Khtml","Ms","O","Moz","Webkit"],a=t.length;return function(s){if(s in e.style)return!0;for(s=s.replace(/^[a-z]/,(function(e){return e.toUpperCase()}));a--;)if(t[a]+s in e.style)return!0;return!1}}(),C=function(e,t){var a,s,r,i;return a=t.split("."),s=$(e),r="",i="",$.each(a,(function(e,t){t.indexOf("#")>=0?r+=t.replace(/^#/,""):i+=t+" "})),r.length&&s.attr("id",r),i.length&&s.attr("class",$.trim(i)),s},w=function(){var e,a,s,r;s={},r={},e=100-t.settings.kenZoom,r.width=t.settings.kenZoom+"%",t.vars.active.index()%2==0?(r.left=e+"%",r.top=e+"%",s.left="0%",s.top="0%"):(r.left="0%",r.top="0%",s.left=e+"%",s.top=e+"%"),a=t.settings.pause+2*t.settings.speed,t.vars.active.css(r),t.vars.active.animate(s,{duration:a,easing:t.settings.easing,queue:!1})},d=function(){t.vars.fresh?(t.vars.slippryWrapper.removeClass(t.settings.loadingClass),t.vars.fresh=!1,t.settings.auto&&a.startAuto(),t.settings.useCSS||"kenburns"!==t.settings.transition||w(),t.settings.onSliderLoad.call(void 0,t.vars.active.index())):$("."+t.settings.fillerClass,t.vars.slideWrapper).addClass("ready")},v=function(e,a){var s;s=1/(e/a)*100+"%",$("."+t.settings.fillerClass,t.vars.slideWrapper).css({paddingTop:s}),d()},r=function(e){var t,a;void 0!==$("img",e).attr("src")?$("<img />").load((function(){t=e.width(),a=e.height(),v(t,a)})).attr("src",$("img",e).attr("src")):(t=e.width(),a=e.height(),v(t,a))},s=function(){var e,s,i;(0===$("."+t.settings.fillerClass,t.vars.slideWrapper).length&&t.vars.slideWrapper.append($('<div class="'+t.settings.fillerClass+'" />')),!0===t.settings.adaptiveHeight)?r($("."+t.settings.activeClass,a)):(s=0,i=0,$(t.vars.slides).each((function(){$(this).height()>s&&(e=$(this),s=e.height()),(i+=1)===t.vars.count&&(void 0===e&&(e=$($(t.vars.slides)[0])),r(e))})))},g=function(){t.settings.pager&&($("."+t.settings.pagerClass+" li",t.vars.slippryWrapper).removeClass(t.settings.activeClass),$($("."+t.settings.pagerClass+" li",t.vars.slippryWrapper)[t.vars.active.index()]).addClass(t.settings.activeClass))},m=function(){!t.settings.loop&&t.settings.hideOnEnd&&($("."+t.settings.prevClass,t.vars.slippryWrapper)[t.vars.first?"hide":"show"](),doResize(),updatePagination())},n=function(){var e,a;!1!==t.settings.captions&&(e="img"!==t.settings.captionsSrc?t.vars.active.attr("title"):$("img",t.vars.active).attr(void 0!==$("img",t.vars.active).attr("title")?"title":"alt"),a="custom"!==t.settings.captions?$(t.settings.captionsEl,t.vars.slippryWrapper):$(t.settings.captionsEl),void 0!==e&&""!==e?a.html(e).show():a.hide())},a.startAuto=function(){void 0===t.vars.timer&&void 0===t.vars.delay&&(t.vars.delay=window.setTimeout((function(){t.vars.autodelay=!1,t.vars.timer=window.setInterval((function(){t.vars.trigger="auto",a.goToSlide(t.settings.autoDirection)}),t.settings.pause)}),t.vars.autodelay?t.settings.autoHoverDelay:t.settings.autoDelay)),t.settings.autoHover&&t.vars.slideWrapper.unbind("mouseenter").unbind("mouseleave").bind("mouseenter",(function(){void 0!==t.vars.timer?(t.vars.hoverStop=!0,a.stopAuto()):t.vars.hoverStop=!1})).bind("mouseleave",(function(){t.vars.hoverStop&&(t.vars.autodelay=!0,a.startAuto())}))},a.stopAuto=function(){window.clearInterval(t.vars.timer),t.vars.timer=void 0,window.clearTimeout(t.vars.delay),t.vars.delay=void 0},a.refresh=function(){t.vars.slides.removeClass(t.settings.activeClass),t.vars.active.addClass(t.settings.activeClass),t.settings.responsive?s():d(),m(),g(),n()},h=function(){a.refresh()},c=function(){t.vars.moving=!1,t.vars.active.removeClass(t.settings.transClass),t.vars.fresh||t.vars.old.removeClass("sy-ken"),t.vars.old.removeClass(t.settings.transClass),t.settings.onSlideAfter.call(void 0,t.vars.active,t.vars.old.index(),t.vars.active.index())},f=function(){var e,s,r,i,n,o,l;t.settings.onSlideBefore.call(void 0,t.vars.active,t.vars.old.index(),t.vars.active.index()),!1!==t.settings.transition?(t.vars.moving=!0,"fade"===t.settings.transition||"kenburns"===t.settings.transition?(t.vars.fresh?(t.vars.slides.css(t.settings.useCSS?{transitionDuration:t.settings.speed+"ms",opacity:0}:{opacity:0}),t.vars.active.css("opacity",1),"kenburns"===t.settings.transition&&t.settings.useCSS&&(n=t.settings.pause+2*t.settings.speed,t.vars.slides.css({animationDuration:n+"ms"}),t.vars.active.addClass("sy-ken")),c()):t.settings.useCSS?(t.vars.old.addClass(t.settings.transClass).css("opacity",0),t.vars.active.addClass(t.settings.transClass).css("opacity",1),"kenburns"===t.settings.transition&&t.vars.active.addClass("sy-ken"),$(window).off("focus").on("focus",(function(){t.vars.moving&&t.vars.old.trigger(t.vars.transition)})),t.vars.old.one(t.vars.transition,(function(){return c(),this}))):("kenburns"===t.settings.transition&&w(),t.vars.old.addClass(t.settings.transClass).animate({opacity:0},t.settings.speed,t.settings.easing,(function(){c()})),t.vars.active.addClass(t.settings.transClass).css("opacity",0).animate({opacity:1},t.settings.speed,t.settings.easing)),h()):("horizontal"===t.settings.transition||"vertical"===t.settings.transition)&&(o="horizontal"===t.settings.transition?"left":"top",e="-"+t.vars.active.index()*(100+t.settings.slideMargin)+"%",t.vars.fresh?(a.css(o,e),c()):(l={},t.settings.continuous&&(!t.vars.jump||"controls"!==t.vars.trigger&&"auto"!==t.vars.trigger||(s=!0,i=e,t.vars.first?(r=0,t.vars.active.css(o,t.vars.count*(100+t.settings.slideMargin)+"%"),e="-"+t.vars.count*(100+t.settings.slideMargin)+"%"):(r=(t.vars.count-1)*(100+t.settings.slideMargin)+"%",t.vars.active.css(o,-(100+t.settings.slideMargin)+"%"),e=100+t.settings.slideMargin+"%"))),t.vars.active.addClass(t.settings.transClass),t.settings.useCSS?(l[o]=e,l.transitionDuration=t.settings.speed+"ms",a.addClass(t.settings.transition),a.css(l),$(window).off("focus").on("focus",(function(){t.vars.moving&&a.trigger(t.vars.transition)})),a.one(t.vars.transition,(function(){return a.removeClass(t.settings.transition),s&&(t.vars.active.css(o,r),l[o]=i,l.transitionDuration="0ms",a.css(l)),c(),this}))):(l[o]=e,a.stop().animate(l,t.settings.speed,t.settings.easing,(function(){return s&&(t.vars.active.css(o,r),a.css(o,i)),c(),this})))),h())):(h(),c())},b=function(e){t.vars.first=!1,t.vars.last=!1,"prev"===e||0===e?t.vars.first=!0:("next"===e||e===t.vars.count-1)&&(t.vars.last=!0)},a.goToSlide=function(e){var a;t.vars.moving||(a=t.vars.active.index(),"prev"===e?a>0?e=a-1:t.settings.loop&&(e=t.vars.count-1):"next"===e?a<t.vars.count-1?e=a+1:t.settings.loop&&(e=0):e-=1,t.vars.jump=!1,"prev"===e||"next"===e||e===a&&!t.vars.fresh||(b(e),t.vars.old=t.vars.active,t.vars.active=$(t.vars.slides[e]),(0===a&&e===t.vars.count-1||a===t.vars.count-1&&0===e)&&(t.vars.jump=!0),f()))},a.goToNextSlide=function(){a.goToSlide("next")},a.goToPrevSlide=function(){a.goToSlide("prev")},o=function(){if(t.settings.pager&&t.vars.count>1){var e,s,r;for(e=t.vars.slides.length,r=$('<ul class="'+t.settings.pagerClass+'" />'),s=1;e+1>s;s+=1)r.append($("<li />").append($('<a href="#'+s+'">'+s+"</a>")));t.vars.slippryWrapper.append(r),$("."+t.settings.pagerClass+" a",t.vars.slippryWrapper).click((function(){return t.vars.trigger="pager",a.goToSlide(parseInt(this.hash.split("#")[1],10)),!1})),g()}},l=function(){t.settings.controls&&t.vars.count>1&&(t.vars.slideWrapper.append($('<ul class="'+t.settings.controlClass+'" />').append('<li class="'+t.settings.prevClass+'"><a href="#prev">'+t.settings.prevText+"</a></li>").append('<li class="'+t.settings.nextClass+'"><a href="#next">'+t.settings.nextText+"</a></li>")),$("."+t.settings.controlClass+" a",t.vars.slippryWrapper).click((function(){return t.vars.trigger="controls",a.goToSlide(this.hash.split("#")[1]),!1})),m())},u=function(){!1!==t.settings.captions&&("overlay"===t.settings.captions?t.vars.slideWrapper.append($('<div class="sy-caption-wrap" />').html(C("<div />",t.settings.captionsEl))):"below"===t.settings.captions&&t.vars.slippryWrapper.append($('<div class="sy-caption-wrap" />').html(C("<div />",t.settings.captionsEl))))},y=function(){a.goToSlide(t.vars.active.index()+1)},S=function(e){var a,s,r,i;return i="all"===t.settings.preload?e:t.vars.active,r=$("img, iframe",i),0===(a=r.length)?void y():(s=0,void r.each((function(){$(this).one("load error",(function(){++s===a&&y()})).each((function(){this.complete&&$(this).load()}))})))},a.getCurrentSlide=function(){return t.vars.active},a.getSlideCount=function(){return t.vars.count},a.getCurrentSlideNumber=function(){return t.vars.active.index()+1},a.destroySlider=function(){!1===t.vars.fresh&&(a.stopAuto(),t.vars.moving=!1,t.vars.slides.each((function(){void 0!==$(this).data("sy-cssBckup")?$(this).attr("style",$(this).data("sy-cssBckup")):$(this).removeAttr("style"),void 0!==$(this).data("sy-classBckup")?$(this).attr("class",$(this).data("sy-classBckup")):$(this).removeAttr("class")})),void 0!==a.data("sy-cssBckup")?a.attr("style",a.data("sy-cssBckup")):a.removeAttr("style"),void 0!==a.data("sy-classBckup")?a.attr("class",a.data("sy-classBckup")):a.removeAttr("class"),t.vars.slippryWrapper.before(a),t.vars.slippryWrapper.remove(),t.vars.fresh=void 0)},a.reloadSlider=function(){a.destroySlider(),i()},(i=function(){var s;return t.settings=$.extend({},defaults,e),t.vars.slides=$(t.settings.elements,a),t.vars.count=t.vars.slides.length,t.settings.useCSS&&(_("transition")||(t.settings.useCSS=!1),t.vars.transition=p()),a.data("sy-cssBckup",a.attr("style")),a.data("sy-classBackup",a.attr("class")),a.addClass(t.settings.boxClass).wrap(t.settings.slippryWrapper).wrap(t.settings.slideWrapper).wrap(t.settings.slideCrop),t.vars.slideWrapper=a.parent().parent(),t.vars.slippryWrapper=t.vars.slideWrapper.parent().addClass(t.settings.loadingClass),t.vars.fresh=!0,t.vars.slides.each((function(){$(this).addClass("sy-slide "+t.settings.transition),t.settings.useCSS&&$(this).addClass("useCSS"),"horizontal"===t.settings.transition?$(this).css("left",$(this).index()*(100+t.settings.slideMargin)+"%"):"vertical"===t.settings.transition&&$(this).css("top",$(this).index()*(100+t.settings.slideMargin)+"%")})),t.vars.count>1||t.settings.initSingle?(-1===$("."+t.settings.activeClass,a).index()?(s="random"===t.settings.start?Math.round(Math.random()*(t.vars.count-1)):t.settings.start>0&&t.settings.start<=t.vars.count?t.settings.start-1:0,t.vars.active=$(t.vars.slides[s]).addClass(t.settings.activeClass)):t.vars.active=$("."+t.settings.activeClass,a),l(),o(),u(),void S(t.vars.slides)):this})(),this)},$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var finders=$(brandKey),finderCount=0,productList={};function registerFinder(){location.protocol,location.host,location.pathname}function loadFinderHTMLandCSS(e){var t,a,s=$(e);global_finderId=s.data("product-finder-id"),global_shopId=s.data("product-finder-store-id"),t=proxyURL+"/api/finder/display";var r=getCookie("gid"),i=(s.data("product-finder-id"),$(window).height()),n=$(window).width();a="saveIntoAnna="+saveIntoAnna+"&a_rId="+finder_url_parameter_value+"&gid="+r+"&fId="+global_finderId+"&domain="+domainName+"&h="+i+"&w="+n+"&shopId="+global_shopId+"&local_tz="+global_localtimezone,$.when($.get(proxyURL+"/css/pf-guidelines.all.min.v1.css",(function(e){globalStore.cssMain=e})),xhr_get(t,"POST","JSON",a,"Problems loading main JSON file.").done((function(e){handleDisplayFinder(e)}))).then((function(){handleFinderInit(s)}))}function guidelinesAddToCartFailCallback(e,t,a){console.log("error-xhr",e),console.log("error-status",t),console.log("error-error",a)}function handleDisplayFinder(e){console.log("Display",e);var t=e.error,a=e.html,s=e.settings,r=e.css,i=e.google,n=e.answertags,o=e.labels,l=e.domain,d=e.resultsInfo,c=e.finderObject,p=e.leadFormList,u=e.leadRequiredList,g=getCookie("gid");if(t)a="",handleError("Problem loading finder.json. \r\n"+t);else{globalStore.error=t,globalStore.settings=s,globalStore.html=a,globalStore.css=r,globalStore.google=i,globalStore.answertags=n,globalStore.labels=o,globalStore.storeName=l,globalStore.resultsInfo=d,globalStore.finderObject=c,globalStore.leadFormList=p,globalStore.leadRequiredList=u,global_versionId=e.versionId,!g&&globalStore.settings.gid&&("none"===globalStore.settings.same_site?(document.cookie="gid="+globalStore.settings.gid+"; expires=0; path=/; SameSite=None; Secure",document.cookie="guidelines_gid="+globalStore.settings.gid+"; expires=0; path=/; SameSite=None; Secure"):(document.cookie="gid="+globalStore.settings.gid+"; expires=0; path=/; ",document.cookie="guidelines_gid="+globalStore.settings.gid+"; expires=0; path=/; "));var v=new Date;v.setDate(v.getDate()+30),"none"===globalStore.settings.same_site?document.cookie="guidelines_session="+globalStore.settings.a_sId+"; expires="+v.toUTCString()+"; path=/; SameSite=None; Secure":document.cookie="guidelines_session="+globalStore.settings.a_sId+"; expires="+v.toUTCString()+"; path=/; ",e.resultsInfo.number_of_steps&&(GuidelinesProductFinder.returnShopper=e.resultsInfo),registerFinder()}}function handleFinderInit(e){if($("<style type='text/css'>"+globalStore.cssMain+"</style>").appendTo("head"),globalStore.html){var t=globalStore.html.indexOf("Error.");if(1==t&&"undefined"!=t){handleError(globalStore.html.replace("Error.",""))}else{if($("<style type='text/css'>"+globalStore.css+"</style>").appendTo("head"),globalStore.google){var a="<link rel='stylesheet' type='text/css' href='//fonts.googleapis.com/css?family="+globalStore.google+"' >";$(a).appendTo("head")}e.empty().append(globalStore.html).fadeIn(5e3),init()}}}function runRegEx(e,t,a){var s=createRegExTests(e,"");return a&&(s="("+s+")"),s}function init(){var e,t;if(e=null!==globalStore.settings?globalStore.settings.transistionType:"fade",null!==globalStore.resultsInfo&&""!==globalStore.resultsInfo.steps_obj){t=globalStore.resultsInfo.number_of_steps;var a=globalStore.resultsInfo.steps_obj.replace(/&quot;/g,'"'),s=JSON.parse(a);tagSelectionObj.steps=s;var r=tagSelectionObj.steps,i=1,n=[],o=[],l=[];for(var d in r){var c=r[d],p="",u="";if("[object Array]"===Object.prototype.toString.call(c)){var g=c.length;for(var v in c){var f=String(c[v]);if(f){var h=p.length>0?" <br><br>- or - <br><br> ":"";p+=f?h+" "+f.toUpperCase().replace(/,/g," and ")+" ":h+" ",u+=(u.length>0?" || ":"")+runRegEx(f,i,""),l.push(f)}}o[i]=1===g?u:"("+u+")",jsRegEx.push(u),n.push(p),steps.push(l),i++}else c&&(p=" "+c.toUpperCase().replace(/,/g," and ")+" ",n.push(p),o[i]=runRegEx(c,i,!0),jsRegEx.push(runRegEx(c,i,!0)),steps.push(c),i++)}tagSelectionObj.jsRegEx=o,tagSelectionObj.sudo=n,getIndividualTagsFromSteps()}else t="1";if(finder=$("#pf-app-sy").slippry({adaptiveHeight:!0,start:t,loop:!1,captions:!1,controls:!1,pager:!1,transition:e,continuous:!1,useCSS:!0,padding:0,slideMargin:0,auto:!1}),loadResults(),global_totalSlides=finder.getSlideCount(),global_landingPageAdjustment=globalStore.settings.show_landing?1:0,globalStore.leadFormList&&(global_leadFormHistory=globalStore.leadFormList),globalStore.leadRequiredList&&(global_leadRequiredList=globalStore.leadRequiredList),globalStore.resultsInfo.number_of_steps>0)if($(".pf-back-link").show(),$(".pf-pagination  li").removeClass("pf-pagination-status-active"),$("ul.pf-pagination li:eq("+(t-1)+")").addClass("pf-pagination-status-active"),globalStore.resultsInfo.steps_breadcrumb)global_breadcrumbHistory=_toConsumableArray(JSON.parse(globalStore.resultsInfo.steps_breadcrumb));else for(var m=1;m<=globalStore.resultsInfo.number_of_steps;m++)global_breadcrumbHistory[m]=m-1;var b=globalStore.finderObject[0].id,_=globalStore.finderObject[0].answerType;"1"==t?"Landing Page"===globalStore.finderObject[0].answerType?annaSaveStepClicks("landing-view",b,_):annaSaveStepClicks(b,"",_):uniqueSessionResultView=!0,setGlobalSlideCount()}function addToGlobalObject(e,t){jsRegEx[t-(1+global_landingPageAdjustment)]="("+e+")",tagSelectionObj.jsRegEx=jsRegEx}function validateEmail(e,t){if(e.length>0){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}return 0===e.length&&0==t}function validateFullName(e,t){if(e.length>0){return/^.+\s.+$/.test(e)}return 0===e.length&&0==t}function validateFirstLast(e,t,a){return e.length>1&&t.length>1||0===e.length&&0===t.length&&0==a}function validatePhone(e,t){if(e.length>0){return/^\+? ?\(?[0-9]+\)?-? ?\(?[0-9]+\)? ?-?[0-9]+ ?-?[0-9]+ ?[0-9]+ ?-?[0-9]+/.test(e)}return 0===e.length&&0==t}function doValidAction(e,t,a){global_leadRequiredList[t][e]=a?"false":"true";var s="li.pf-step-"+t+" div.pf-answer";Object.values(global_leadRequiredList[t]).indexOf("true")<0?$(s).removeClass("pf-lead-disabled"):$(s).addClass("pf-lead-disabled")}function changeLeadStatus(e){"Lead"===global_leadFormHistory[e-1]&&(global_leadFormHistory[e-1]="Lead-Updated")}function storeLeadFormData(e){var t=Object.values(global_leadRequiredList[e-1]),a={};return t.indexOf("true")<0&&($("li.pf-step-"+(e-1)+" .pf-eval-field").each((function(e,t){t.value&&("Newsletter"===$(this).data("header")?a[$(this).data("header")]=$(this).is(":checked")?"1":"0":a[$(this).data("header")]=t.value)})),global_leadFormValues[e-1]=a,1)}function handleAnnaViewsAndClickLogic(e,t,a,s,r,i){if(global_totalSlides-1!==e){var n,o;if("branch"==t){var l=a+global_landingPageAdjustment;n=globalStore.finderObject[l].id,o=globalStore.finderObject[l].answerType}else n=globalStore.finderObject[finder.getCurrentSlideNumber()].id,o=globalStore.finderObject[finder.getCurrentSlideNumber()].answerType;if("results"!==t&&"Lead-Complete"!==global_leadFormHistory[e])annaSaveStepClicks(n,"",o);else if("Lead-Complete"==global_leadFormHistory[e])for(var d=e+1;d<global_leadFormHistory.length;d++){if("Lead-Complete"!==global_leadFormHistory[d]){annaSaveStepClicks(n=globalStore.finderObject[d].id,"",o=globalStore.finderObject[d].answerType);break}}}annaSaveStepClicks(s,r,i)}function handleNavigation(e,t){if("Lead-Complete"===global_leadFormHistory[e-1]){for(var a=0,s=e-1;s<global_totalSlides-1&&"Lead-Complete"===global_leadFormHistory[s];s++)a++;e+=a}global_breadcrumbHistory[e]=t,changeLeadStatus(t),finder.goToSlide(e),global_totalSlides===e&&displayResults()}function setGlobalSlideCount(){GuidelinesProductFinder.slides.total=global_totalSlides,GuidelinesProductFinder.slides.current=finder.getCurrentSlideNumber()}function createRegExTests(e,t){var a="";e&&(a=e.split(","));for(var s="",r=0;r<a.length;r++){var i=s.length>1?" && ":"",n=regExCleanUp(a[r]);n=n.replace(/ /g,"_"),s+=i+"/\\b"+$.trim(n.toLowerCase())+"\\b/.test(str)",regCounter++}return t+=(t?" || ":"")+"("+s+")"}function regExCleanUp(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\$/g,"")).replace(/\//g,"_backslash_")).replace(/\:/g,":")).replace(/\(/g,"(")).replace(/\)/g,")")).replace(/\-/g,"-")).replace(/\>/g,"\\>")).replace(/\</g,"\\<")).replace(/[()]/g,"")).replace(/\+/g,"plus")).replace(/\&#039;/g,"'")).trim()).normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function displayCounts(){if($(".pf-report-holder-desktop").length){var e="\x3c!-- START WRAPPER --\x3e<div class='pf-report-wrapper'>";e+="<div class='pf-report-header'>Summary</div>";if(globalStore){var t=globalStore.answertags,a=globalStore.labels;for(var s in t){0;var r=t[s],i=a[s],n=i.answer;for(var o in e+="<div class='pf-report-step'>"+i.headline+"</div>",r){0;var l=getCountofTag(r[o].toLowerCase());if(l){var d=l.count,c=l.products;c=(c=c.replace(/'/g,"\\'")).replace(/"/g,"");var p="";(d>1||0===d)&&(p="s"),e+="<div class='pf-report-answer'>",e+="<span class='pf-summary-text'><b>"+n[o]+"</b><span>",e+="<ul class='pf-summary-text'>",e+="<li>Tags: "+r[o]+"</li>",e+="<li>"+d+" Product"+p+"</li>",e+="</ul>",e+="</div>"}}}}else console.log("Missing globalStore Object.");e+="</div>\x3c!-- END WRAPPER --\x3e",$(".pf-report-tags").html(e)}}function countResults(){if($(".pf-report-holder-desktop").length){var e="\x3c!-- START WRAPPER --\x3e";if(e+="  <div class='pf-report-wrapper'>",e+="  <div class='pf-report-header'>Search</div>",e+="  <div class='pf-report-count pf-summary-text'></div>",e+="  <div class='pf-summary-text'>Show me all items that are tagged:</div>",e+="  <ul class='pf-summary-text'>",tagSelectionObj){var t=tagSelectionObj.sudo,a=tagSelectionObj.jsRegEx,s=2;for(var r in t)e+="<li class='pf-summary-text'>"+(s>2?" - and - ":"")+t[r]+"  </li>",a[s],s++}e+="  </ul>",e+="  <div class='pf-report-footnote'><b>* Lead capture and analytic data is not saved while in preview mode.</b></div>",e+="</div>",e+="\x3c!-- END WRAPPER --\x3e",$(".pf-report-search").html(e),highlight(),countCurrentResults()}}function getIndividualTagsFromSteps(){var e,t,a,s=[],r=[];if(tagSelectionObj){var i=tagSelectionObj.steps;for(var n in i){if("[object Array]"===Object.prototype.toString.call(i[n]))for(var o=0,l=i[n].length;o<l;o++)e=i[n][o]?i[n][o].split(","):i[n][o],s.push(e);else t=i[n]?i[n].split(","):i[n],s.push(t)}for(var d=0,c=s.length;d<c;d++)for(var p in s[d])a=$.trim(s[d][p]),r.push(a);tagSelectionObj.reg=r}}function highlight(){var e,t="",a="",s="";$("span").removeClass("highlight"),getIndividualTagsFromSteps();var r=$(".pf-report-products").html(),i=tagSelectionObj.steps;for(var n in i){var o="";if($.isArray(i[n]))for(var l=0;l<i[n].length;l++)l>0&&(s=","),o+=s+$.trim(i[n][l]);else o=i[n];var d="",c="";if(o&&(c=(d=o.split(",")).length),c>=0)for(var p=0;p<c;p++)(e=$.trim(d[p].toLowerCase()))&&(e=e.replace(/&/g,"&amp;"),t=new RegExp("\\b"+e+"\\b","gi"),a='<span class="highlight">'+e+"</span>",r=r.replace(t,a))}$(".pf-report-products").html(r)}function getCountofTag(e){var t,a=0,s="",r="",i="",n="",o=(e=(e=regExCleanUp(e)).replace(/&amp;/g,"&")).split(","),l=o.length;if(l>1){for(var d=0;d<l;d++)n+="(?=.*\\b"+o[d]+"\\b)";t="^"+n+".*$"}else t="^(?=.*\\b"+e+"\\b).*$";var c=productList.data,p="";for(var u in c){var g=c[u],v=g.published_at,f=g.title,h=g.variants,m=g.variants[0].price,b=globalStore.settings.currency_front||"",_=globalStore.settings.currency_back||"";if(void 0!==h)if(h.length>1){var S,y,C,w=[];for(S=0;S<h.length;S++)w[S]=parseFloat(h[S].price);m=(C=b.trim()+numberWithCommas(Math.max.apply(null,w))+_)==(y=b.trim()+numberWithCommas(Math.min.apply(null,w))+_)?y:y+" - "+C}else m=b.trim()+numberWithCommas(h[0].price)+_;else m="";if(g.tags){var x=$.trim(g.tags.toLowerCase());p=regExCleanUp($.trim(g.tags.toLowerCase()))}else x="";if(v)r+="<span class='pf-summary-text'><b>"+f+"</b></span>",r+="<ul class='pf-summary-text'>",r+="<li>Price: "+m+"</li>",r+="<li>Tags: "+x+"</li>",r+="</ul>",new RegExp(t,"g").test(p)&&(a++,i+=f.toLowerCase()+"<hr>"),s++}var k={count:a,products:i};return displayProductReport(r,s),k}function displayProductReport(e,t){var a="\x3c!-- START WRAPPER --\x3e";a+="<div class='pf-report-wrapper'>",a+="  <div class='pf-report-header'>Products</div>",a+="  <div class='pf-report-product-summary pf-summary-text'>",a+="      <span class='highlight'><b>"+t+"</b></span> associated products",a+="  </div>",a+="  <div class='pf-report-product-list'>",a+=""+e,a+="  </div>",a+="</div>",a+="\x3c!-- END WRAPPER --\x3e",$(".pf-report-products").html(a)}function countCurrentResults(){var totalCount=0,itemCount=0,regExCheck="";if(tagSelectionObj.jsRegEx&&(regExCheck=tagSelectionObj.jsRegEx.filter(Boolean).join(" && ")),productList.data&&regExCheck){var myData=productList.data,str_clean="";for(var key in myData){var obj=myData[key];if(obj.tags){var str=regExCleanUp($.trim(obj.tags.toLowerCase()));str=str.replace(/, /g,","),str=str.replace(/ /g,"_"),str=str.replace(/\//g,"_backslash_"),str=str.replace(/\+/g,"plus")}eval(regExCheck)&&itemCount++,totalCount++}}if(showReporting){var resultsOutput="<div class='pf-report-count-style'>Results: <span class='highlight'>"+itemCount+"</span> of "+totalCount+" products*</b></div>";$(".pf-report-count").html(resultsOutput)}}function resultsReplacer(e){for(var t=[],a=0;a<e.length;a++)if(Array.isArray(e[a])){for(var s=[],r=0;r<e[a].length;r++)s[r]=encodeURIComponent(e[a][r]);t.push(s)}else e[a]?t.push(encodeURIComponent(e[a])):t.push(null);return t}function displayResults(){finder_url_parameter_value?(annaUpdateReturnResultsCount(),runDisplayofResults(finder_url_parameter_value)):($(".pf-product-results").html('<div class="pf-product-wrapper"><div class="pf-app-row"><div class="pf-results-noresults">  </div></div></div>'),saveIntoAnna<0?annaSaveResults():runDisplayofResults(0))}function cleanUpAndSaveLeadData(e,t){Promise.all([xhr_lead()]).then((function(){runCleanUpAndSaveLeadData(e,t)})).catch((function(e){}))}function clickCTA(e,t){Promise.all([xhr_lead()]).then((function(){alert("All Ajax done with success!")})).catch((function(e){alert("All Ajax done: some failed!")}))}function runCleanUpAndSaveLeadData(e,t){var a=globalStore.resultsInfo.steps_lead_completed,s=-1,r="",i="";global_leadFormHistory.map((function(t,n){if(a&&(s=a.indexOf(n)),r=void 0!==global_leadStepLogIds[n]?global_leadStepLogIds[n]:"",i=globalStore.finderObject[n].id,"Lead-Updated"===t||s>-1){$(".pf-pagination li").eq(n).addClass("pf-pagination-status-hidden"),global_leadFormHistory[n]="Lead-Complete",leadSaveNewCapture(n,e,r,i);var o=countLeadFormValueData(n);global_hasLeadData=o>0?"true":"false",o>0&&global_leadComplete.push(n)}})),updatePagination(),finder_url_parameter_value||annaSaveNumItemsInResults(e,t)}function countLeadFormValueData(e){var t=global_leadFormValues[e],a=0;for(var s in t)"Newsletter"===s&&0==t[s]||a++;return a}function runDisplayofResults(resultsID){var gold="",replacement="",imageCount=0,imageSet={},price,currency_front,currency_back,product_description,product_vendor,compare_at_price="";currency_front=globalStore.settings.currency_front,currency_back=globalStore.settings.currency_back;var showprice=globalStore.settings.results_show_prices,showAddToCart=globalStore.settings.results_show_addToCart,showvendor=globalStore.settings.results_show_vendor,showdescription=globalStore.settings.results_show_description,resultsMaxLimit=globalStore.settings.resultsMaxLimit,showPriceRange=!0,imageSize=globalStore.settings.results_image_size,regExCheck="";if(tagSelectionObj.jsRegEx&&(regExCheck=tagSelectionObj.jsRegEx.filter(Boolean).join(" && ")),productList.data){var myData=productList.data,str_clean="";for(var key in myData){var obj=myData[key];if(obj.tags){var str=$.trim(obj.tags.toLowerCase());str=str.replace(/\$/g,""),str=str.replace(/, /g,","),str=str.replace(/ /g,"_"),str=str.replace(/[()]/g,""),str=str.replace(/\+/g,"plus"),str=str.normalize("NFD").replace(/[\u0300-\u036f]/g,""),str=str.replace(/\//g,"_backslash_")}else str="";if(regExCheck){if(regExCheck=regExCheck.replace(/&lt;/g,"<"),regExCheck=regExCheck.replace(/&gt;/g,">"),regExCheck=regExCheck.replace(/&le;/g,"≤"),regExCheck=regExCheck.replace(/&ge;/g,"≥"),eval(regExCheck)){var puplished=obj.published_at,title=obj.title,handle=obj.handle,image=obj.images,variants=obj.variants,description=obj.body_html,vendor=obj.vendor,productId=obj.id,variantId_list=[];if(imageCount==resultsMaxLimit)break;if(currency_front=null==currency_front?"":currency_front.trim(),null==currency_back&&(currency_back=""),null!=puplished){if(image.length>0?(image=image[0].src,replacement="Large"==imageSize?"_large.":"Medium"==imageSize?"_medium.":"_small.",image=image.replace(/.([^.]*)$/,replacement+"$1")):image="",void 0!==variants&&"Yes"===showprice)if(variants.length>1){var pi,price_list=[],price_min,price_max;for(pi=0;pi<variants.length;pi++)price_list[pi]=parseFloat(variants[pi].price);price_max=currency_front+numberWithCommas(Math.max.apply(null,price_list))+currency_back,price_min=currency_front+numberWithCommas(Math.min.apply(null,price_list))+currency_back,price=price_max==price_min?price_min:price_min+" - "+price_max}else price=currency_front+numberWithCommas(variants[0].price)+currency_back,parseFloat(variants[0].compare_at_price)>parseFloat(variants[0].price)&&(compare_at_price=currency_front+numberWithCommas(variants[0].compare_at_price)+currency_back);else price="";if(void 0!==variants&&variants.length>1){var vi=void 0;for(vi=0;vi<variants.length;vi++)variantId_list[vi]=[variants[vi].id]}else variantId_list[0]=[variants[0].id];product_description="Yes"===showdescription&&description?$("<div/>",{html:description}).find("#guidelinesapp").html():"",product_vendor="Yes"===showvendor?vendor:"",gold+=createProduct(productId,handle,title,price,compare_at_price,image,imageSize,imageCount,resultsID,product_description,product_vendor,variantId_list,showAddToCart),imageSet[imageCount]={productId:productId,handle:handle,title:title,image:image},imageCount++,compare_at_price=""}}GuidelinesProductFinder.products.total_match=imageCount}else gold="",console.log("regExCheck is null")}TotalClickCount++;var finalMessage="",footer="",headerMessage='<div class="pf-app-row pf-step-headline-row"><div class="pf-step-headline-style pf-results-header">'+globalStore.settings.results_headline+"</div></div>";if(headerMessage+='<div class="pf-app-row pf-step-subheadline-row"><div class="pf-step-subheadline-style">'+globalStore.settings.results_subheadline+"</div></div>",gold.length>0)finalMessage=gold,finder_url_parameter_value||annaSaveItemResults(imageSet,resultsID);else{var decoded=$("<textarea/>").html(globalStore.settings.global_results_noresults_msg).text();finalMessage='<div class="pf-results-noresults">'+decoded+"</div>",annaSaveNoResults(resultsID)}var headerMessagetoHtml=$("<textarea/>").html(headerMessage).text();$(".pf-product-results").empty().html(headerMessagetoHtml+'<div class="pf-product-wrapper"><div class="pf-app-row pf-results-row">'+finalMessage+"</div></div>"+footer).fadeIn(),changeHeightofResults(),doResize("results"),modifyURL(resultsID),cleanUpAndSaveLeadData(resultsID,imageCount),uniqueSessionResultView=!0}else tagsLoaded?$(".pf-product-results").html('<div class="pf-product-wrapper"><div class="pf-app-row"><div class="pf-results-noresults">Connection Problem.<br><br>Please try again later.</div></div></div>'):(resultsRequested=!0,$(".pf-product-results").html('<div class="pf-product-wrapper"><div class="pf-app-row"><div class="pf-results-noresults">Loading Results...</div></div></div>')),console.log("productList.data == false")}function modifyURL(e){e=void 0!==e&&e;var t="";if(history.pushState){var a,s=removeParam(finder_url_parameter_name,URL_search);if(e&&0===finder_url_parameter_value.length)a=URL_refresh.indexOf("?")>0?"&"+finder_url_parameter_name+"="+e:"?"+finder_url_parameter_name+"="+e,t=!0;if(!1===e&&(a="",finder_url_parameter_value="",t=!0),t){var r=URL_path+s+a;if(history.pushState(null,null,r),window.frameElement){r=URL_path.replace("-source","")+s+a;parent.postMessage(r,"*")}}}}finders.length>0?finders.each((function(e,t){finderCount?handleError("Product Finder (product-finder-id:"+$(this).data("product-finder-id")+") will not be displayed. We only support showing one Product Finder per page. "):(loadFinderHTMLandCSS(t),finderCount++)})):handleError("No mathcing Product Finders"),$(window).resize((function(){doResize("window resize")})),finder_url_parameter_value&&showResultsBackLink(),$(document).on("click",".pf-answer-check-next-button",(function(e){e.preventDefault();var t=finder.getCurrentSlideNumber(),a=$(this).data("num"),s=[],r="",i="",n=!1;TotalClickCount++;var o,l=[];$("#answer-check-"+a+'[type="checkbox"]:checked').each((function(e,t){var a=String($(this).data("tags")),d=$(this).data("answer"),c=($(this).data("num"),$(this).data("aid"));if(o=!0===$(this).data("islead")?"Lead":"Step",a){s.push(a),tagSelections.push(a);var p=r.length>0?" <br><br>- or - <br><br> ":"",u="";a?(u=a.toUpperCase(),r+=p+" "+u.replace(/,/g," and ")+" "):r+=p+" ",i=createRegExTests(a,i)}else d&&(n=!0);l.push(c)}));handleAnnaViewsAndClickLogic(t,"Next","",a,l,o),i?(addToGlobalObject(i,t),handleTags(s,r,t-global_landingPageAdjustment),checkBoxCheck=!0):checkBoxCheck=!!n})),$(document).on("keyup","input",(function(e){var t=$(this).data("isrequired"),a=$(this).data("stepnumber"),s=$(this).data("leadname"),r=$(this).val();if("email"===s)doValidAction(s,a,validateEmail(r,t));else if("full_name"===s)doValidAction(s,a,validateFullName(r,t));else if("first_last"===s){doValidAction(s,a,validateFirstLast(document.getElementById("pf-first_name-"+a).value,document.getElementById("pf-last_name-"+a).value,t))}else"phone"===s&&doValidAction(s,a,validatePhone(r,t));return!1})).keydown((function(e){})),$(document).on("click",".pf-answer",(function(e){e.preventDefault();var t=finder.getCurrentSlideNumber();if($(this).data("islead")&&!storeLeadFormData(t))return!1;if(checkBoxCheck){var a="100%";$(".sy-slides-wrap").css("height",a),$(".sy-slides-crop").css("height",a);var s=$(this).data("goto"),r=$(this).data("branchid"),i=String($(this).data("tags")),n=$(this).data("num"),o=$(this).data("aid"),l=!0===$(this).data("islead")?"Lead":"Step",d=$(this).data("ischeckbox"),c=($(this).data("answer"),$(this).data("answerorder"));t-1==0&&1===global_landingPageAdjustment&&globalStore.finderObject[0].answers.buttonLabel;var p="";if(i&&"undefined"!=i){tagSelections.push(i);var u="";i&&(u=" "+i.toUpperCase().replace(/,/g," and ")+" "),handleTags(i,u,t-global_landingPageAdjustment),addToGlobalObject(p=createRegExTests(i,p),t,global_landingPageAdjustment,c)}d||handleAnnaViewsAndClickLogic(t,s,r,n,o,l),lastStepClicked=finder.getCurrentSlideNumber();var g=t+1;"results"==s?(global_breadcrumbHistory[global_totalSlides]=lastStepClicked,changeLeadStatus(lastStepClicked),finder.goToSlide(global_totalSlides),displayResults()):handleNavigation("branch"==s?(g=r+global_landingPageAdjustment)+1:g,lastStepClicked);var v=$("#pf-experience").offset().top-70;$("html, body").scrollTop(v),doResize("simple-button"),console.log(tagSelectionObj),setGlobalSlideCount(),GuidelinesProductFinder.data=tagSelectionObj,showReporting?countResults():countCurrentResults(),updatePagination()}else $(".pf-answer-checkbox-error").html(globalStore.settings.checkbox_error_msg)})),$(document).on("change","input:checkbox",(function(e){this.checked&&$(".pf-answer-checkbox-error").html("")})),$(document).on("click",".pf-back-link",(function(e){e.preventDefault();var t=finder.getCurrentSlideNumber(),a=global_breadcrumbHistory[t];if("Lead-Complete"===global_leadFormHistory[a-1]){for(var s=t;s>=0;--s)if(global_breadcrumbHistory[s]&&"Lead-Complete"!==global_leadFormHistory[global_breadcrumbHistory[s]-1]){a=global_breadcrumbHistory[s];break}if("Lead-Complete"===global_leadFormHistory[a-1])for(var r=0;r<=global_leadFormHistory.length;r++)if(global_leadFormHistory[r]&&"Lead-Complete"!==global_leadFormHistory[r]){a=r+1;break}}var i=globalStore.finderObject[a-1].id,n=globalStore.finderObject[a-1].answerType;a-1==0&&1===global_landingPageAdjustment?annaSaveStepClicks("landing-view",i,n):annaSaveStepClicks(globalStore.finderObject[a-1].id,"",n);var o=a,l="";finder_url_parameter_value.length>0&&global_leadFormHistory.length>0&&(l=global_leadFormHistory.toString().match(/Lead-Complete/g))&&(o=o-l.length-global_landingPageAdjustment);for(var d=steps.length;d>=o;d--)steps.pop(),sudo.pop(),jsRegEx.pop();modifyURL(),showReporting&&countResults();var c=$("#pf-experience").offset().top-70;$("html, body").scrollTop(c),$(".pf-answer-checkbox-error").html(""),checkBoxCheck=!0,finder.goToSlide(a),doResize("pf-back-link"),setGlobalSlideCount(),countCurrentResults()})),$(document).on("click",".start-over",(function(e){location.reload()})),window.addEventListener&&window.addEventListener("popstate",(function(e){removeParam(finder_url_parameter_name,URL_refresh)})),$(document).on("click",".pf-results-link, .pf-view-button",(function(e){e.preventDefault();var t=$(this).data("url");if(!finder_url_parameter_value){var a=$(this).data("title"),s=$(this).data("image"),r=$(this).data("handle");annaUpdateItemClicked($(this).data("id"),a,s,r)}if(saveIntoAnna>0){"\r\n---------------------------------------------------","\r\nThis functionality is disabled during preview mode.\r\n","This alert message will not be displayed when the \r\n","product finder is live on your website.\r\n",alert("Item clicked!\r\n---------------------------------------------------\r\nThis functionality is disabled during preview mode.\r\nThis alert message will not be displayed when the \r\nproduct finder is live on your website.\r\n")}else window.location.href=t}));var global_atc_variantID="";function handleCallback(e,t){var a=guidelinesAddToCartSuccessCallback,s=guidelinesAddToCartFailCallback;return"function"==typeof window[t]?window[t]:(console.error("Guidelines App Error! :: The `"+e+"` custom callback function, named '"+t+"' was not found for the Add To Cart API. Please make sure the function exists. The Guidelines App default callback was used instead. NOTE: The custom callback function can't be accessed within Preview Mode. This functionally is only reachable when added to your theme and called from page within your site. "),"Success"===e?a:s)}function wait(e){for(var t=(new Date).getTime(),a=t;a<t+e;)a=(new Date).getTime()}function styleAddToCartButtonClick(e,t){var a=document.getElementById("button-"+t);a.style.opacity="pressed"===e?.5:1}function changeHeightofResults(){var e=$(".pf-product-results").find("img"),t="",a=globalStore.settings.transistionType;e.one("load",(function(){t=$("li.pf-step-results.sy-slide."+a+".sy-active").height(),$(".sy-slides-crop").css({height:t}),$(".sy-slides-wrap").css({height:t})})).each((function(){this.complete&&$(this).load()}))}function createProduct(e,t,a,s,r,i,n,o,l,d,c,p,u){var g,v,f;"Large"==n?(g="pf-col-xs-12 pf-col-sm-6 ",v="pf-results-size-large",f="pf-results-size-large-min"):"Medium"==n?(g="pf-col-xs-12 pf-col-sm-6 pf-col-md-4 ",v="pf-results-size-medium",f="pf-results-size-medium-min"):(g="pf-col-xs-6 pf-col-sm-4 pf-col-md-3 ",v="pf-results-size-small",f="pf-results-size-small-min");var h="";h="<div class='"+g+"'>";var m=globalStore.settings.customDomain,b=globalStore.settings.customUrlPath;m||(m=window.location.hostname);var _="https://"+m+b+t,S=0===l?"":"/?"+finder_url_parameter_name+"="+l;[8,2010,2029,2054,2071].includes(global_shopId)&&(S="");var y="data-url='"+_+S+"'  data-title='"+a+"' data-id='"+e+"' data-variant-id='"+p+"' data-handle='"+t+"' data-image='"+i+"'";return h+='<div class="pf-results-outer '+v+'">',h+='  <div class="pf-results-inner '+v+" "+f+' ">',i?(h+='<span class="pf-align-helper"></span>',h+='      <a href="'+_+S+'" class="pf-results-link" '+y+'  target="_top" ><img class="pf-align-helper" style="max-width:100%" src="'+i+'" alt="'+a.replace(/"/g,"'")+'"></a>'):h+='<div class="pf-no-image '+v+'">No Image Available</div>',h+="  </div>",h+='  <div class="pf-results-details '+v+'">',h+='      <a href="'+_+S+'" class="pf-results-link" '+y+' target="_top"  >',h+='          <span class="pf-results-title">'+a+"</span>",h+="      </a>",h+='      <span class="pf-results-price">'+s+"&nbsp;&nbsp;<del>"+r+"</del></span>",h+="  </div>",d&&(h+='<div class="pf-results-description">'+d+"</div>"),c&&(h+='<div class="pf-results-vendor">'+c+"</div>"),"1"===u&&(p.length>1?h+='<div class="pf-cart-button-parent"><div class="pf-view-button" '+y+" >"+globalStore.settings.results_view_button_label+"</div></div>":(h+='<div class="pf-cart-button-parent">',h+='  <div class="pf-cart-button" '+y+' id="button-'+p[0]+'" >'+globalStore.settings.results_atc_button_label+"</div>",h+='  <div class="pf-cart-button-error" id="'+p[0]+'"'+y+" >"+globalStore.settings.results_atc_error_message+"</div>",h+="</div>")),h+="</div>",h+="</div>"}function handleTags(e,t,a){--a,steps[a]=e,tagSelectionObj.steps=steps,sudo[a]=" "+t,tagSelectionObj.sudo=sudo}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function xhr_lead(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"true";return $.ajax({url:e,type:t,dataType:a,async:n,data:s,jsonpCallback:i,processData:!1,contentType:!1}).fail((function(e,t,a){console.log(r),console.log("jqXHR:",e),console.log("textStatus:",t),console.log("errorThrown:",a)}))}function xhr_get(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"true";return $.ajax({url:e,type:t,dataType:a,async:n,data:s,jsonpCallback:i}).fail((function(e,t,a){console.log(r),console.log("jqXHR:",e),console.log("textStatus:",t),console.log("errorThrown:",a)}))}function loadResults(){var e=globalStore.settings.json_filename;e.length>1?xhr_get(s3_url_json+"/"+e,"GET","jsonp","","Problem loading jsonfilename from AWS.","guidelinesappjson").done((function(e){handleLoadedResults(e)})):xhr_get(proxyURL+"/api/finder/"+global_finderId+"/json","POST","text","fId="+global_finderId+"&shopId="+globalStore.settings.shopId,"Problem creating NEW JSON file.").done((function(e){globalStore.settings.json_filename=e,loadResults()}))}function handleLoadedResults(e){productList.data=e,tagsLoaded=!0;var t=finder.getCurrentSlideNumber()-1,a=finder.getSlideCount()-1;showReporting&&(displayCounts(),countResults()),(resultsRequested&t===a||finder_url_parameter_value)&&displayResults();var s=Object.keys(productList.data).length;GuidelinesProductFinder.products.total_count=s}window.guidelinesAddToCartSuccessCallback=function(e,t,a){window.location.href="/cart"},window.guidelinesAddToCartFailCallback=function(e,t,a){document.getElementById(global_atc_variantID).classList.add("pf-error-visible"),console.log("guidelinesAddToCartFailCallback() - Error: ",e,t,a)},$(document).on("click",".pf-cart-button",(function(e){if(e.preventDefault(),saveIntoAnna>0){"\r\n---------------------------------------------------","\r\nThis functionality is disabled during preview mode.\r\n","This alert message will not be displayed when the \r\n","product finder is live on your website.\r\n",alert("Add To Cart button clicked!\r\n---------------------------------------------------\r\nThis functionality is disabled during preview mode.\r\nThis alert message will not be displayed when the \r\nproduct finder is live on your website.\r\n")}else{var t=handleCallback("Success",globalStore.settings.results_atc_success_callback),a=handleCallback("Fail",globalStore.settings.results_atc_fail_callback),s=$(this).data("variant-id"),r=$(this).data("id"),i=$(this).data("title"),n=$(this).data("image"),o=$(this).data("handle");global_atc_variantID=s,document.getElementById(s).classList.remove("pf-error-visible"),styleAddToCartButtonClick("pressed",s),annaUpdateItemClicked(r,i,n,o,!0);var l={items:[{quantity:1,id:s}]};$.ajax({type:"POST",url:"/cart/add.js",data:l,dataType:"json",success:t,error:a,complete:function(){styleAddToCartButtonClick("reset",s)}})}}));var loopLimit=0;function doResize(e){if(finder){var t=finder.getCurrentSlideNumber(),a=$("li.sy-slide:nth-child("+t+")").height();$(".sy-slides-wrap").css("height",a),$(".sy-slides-crop").css("height",a)}}function doOver(e){$(".sy-slides-wrap").css("height",e),$(".sy-slides-crop").css("height",e),++loopLimit<10&&doResize("doOver:"+loopLimit)}function updatePagination(){var e,t=0;if(finder){var a=e=finder.getCurrentSlideNumber()-1;if(global_leadFormHistory&&a>0)do{t+="Lead-Complete"===global_leadFormHistory[a-=1]?1:0}while(a>0)}else e=0;e-t<=0?$(".pf-back-link").hide():$(".pf-back-link").show(),$(".pf-pagination  li").removeClass("pf-pagination-status-active"),$("ul.pf-pagination li:eq("+e+")").addClass("pf-pagination-status-active"),e<""&&(globalStore.resultsInfo.results_past_regex=null)}function handleError(e){var t=BrandName.toUpperCase()+" MESSSAGE: ";console.warn(t+e)}function getCookie(e){var t=new RegExp(e+"=([^;]+)").exec(document.cookie);return null!==t?unescape(t[1]):null}function showResultsBackLink(){var e=$("#guidelines-back-to-finder-link");if(e.length>0){"POST","json","Problem with AJAX call to database for showResultsBackLink().",xhr_get(proxyURL+"/api/back_to_results","POST","json","shopId="+global_shopId+"&resultsID="+finder_url_parameter_value,"Problem with AJAX call to database for showResultsBackLink().").done((function(t){var a,s=t.back_link_data,r=s.results_url,i=s.back_link_label,n=s.back_link_css;if(r){if(a=r.indexOf("?")>0?"&":"/?","preview-source"===r.split("/")[1]){var o=r.replace("preview-source","preview");r=web_url+o}var l=r+a+""+finder_url_parameter_name+"="+finder_url_parameter_value,d="<a href='"+l+"'>"+i+"</a>";void 0!==n&&e.attr("style",n),void 0!==i?e.empty().append(d):e.empty().append("<a href='"+l+"'><< Back To Results</a>")}}))}}function removeParam(e,t){var a=t.split("?")[0],s=[],r=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==r){for(var i=(s=r.split("&")).length-1;i>=0;i-=1)s[i].split("=")[0]===e&&s.splice(i,1);"?",a=a+"?"+s.join("&")}return a}function isEmpty(e){for(var t in e)if(e[t])return!1;return!0}function leadSaveNewCapture(e,t,a,s){if(saveIntoAnna<0&&(global_leadFormValues[e]&&!1===isEmpty(global_leadFormValues[e]))){var r=global_leadFormValues[e],i=new FormData;Object.keys(r).map((function(e){return i.append(e,r[e])})),i.append("results_id",t),i.append("session_id",globalStore.settings.a_sId),i.append("shopId",global_shopId),i.append("fId",global_finderId),i.append("logStepId",a),i.append("stepId",s),"POST","text","leadSaveNewCapture() - Problem saving lead",xhr_lead(proxyURL+"/api/lead/"+global_finderId,"POST","text",i,"leadSaveNewCapture() - Problem saving lead").done((function(e){e&&global_leadCaptureIds.push(e)}))}}function annaSaveItemResults(e,t){if(saveIntoAnna<0){var a;a=proxyURL+"/api/anna/"+global_finderId+"/items","POST","json","annaSaveItemResults() - Problem saving result items";var s=new FormData;s.append("shopperId",globalStore.settings.a_sId),s.append("resultTitle",globalStore.settings.results_headline),s.append("resultsId",t),s.append("versionId",global_versionId),s.append("imageSet",JSON.stringify(e)),s.append("shopId",global_shopId),s.append("fId",global_finderId),s.append("local_tz",global_localtimezone),navigator.sendBeacon(a,s)||console.log("Error :: annaSaveItemResults() - Problem saving result items")}}function annaSaveNoResults(e){saveIntoAnna<0&&xhr_get(proxyURL+"/api/anna/"+global_finderId+"/noresults","POST","text","resultTitle="+globalStore.settings.results_headline+"&shopperId="+globalStore.settings.a_sId+"&resultsId= "+e+"&shopId="+global_shopId+"&fId="+global_finderId+"&versionId="+global_versionId+"&local_tz="+global_localtimezone,"annaSaveNoResults() - Problem saving no results").done((function(e){}))}function annaUpdateReturnResultsCount(){saveIntoAnna<0&&xhr_get(proxyURL+"/api/anna/"+global_finderId+"/returned","POST","text","resultsID="+finder_url_parameter_value+"&versionId="+global_versionId+"&local_tz="+global_localtimezone,"annaUpdateReturnResultsCount() - Problem with updating count for user who returns from saved url").done((function(e){}))}function annaUpdateItemClicked(e,t,a,s){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(saveIntoAnna<0){var i,n=decodeURIComponent((new RegExp("[?|&]"+finder_url_parameter_name+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||"";i=proxyURL+"/api/anna/"+global_finderId+"/clicked","annaUpdateItemClicked() - Problem with updating count for item that was clicked";var o=new FormData;o.append("shopperId",globalStore.settings.a_sId),o.append("item_id",e),o.append("resultsId",n),o.append("versionId",global_versionId),o.append("addToCart",r),o.append("title",t),o.append("image",a),o.append("handle",s),o.append("shopId",global_shopId),o.append("local_tz",global_localtimezone);var l=navigator.sendBeacon(i,o);return l||console.log("Error :: annaUpdateItemClicked() - Problem with updating count for item that was clicked."),200}}function annaSaveNumItemsInResults(e,t){if(saveIntoAnna<0){var a;a=proxyURL+"/api/anna/"+global_finderId+"/resultsUpdated","annaSaveNumItemsInResults() - Problem with updating count for item that was clicked";var s=new FormData;s.append("shopId",global_shopId),s.append("fId",global_finderId),s.append("resultsId",e),s.append("versionId",global_versionId),s.append("shopperId",globalStore.settings.a_sId),s.append("hasLeadData",global_hasLeadData),s.append("itemCount",t),s.append("local_tz",global_localtimezone),s.append("leadStatus",global_leadComplete),navigator.sendBeacon(a,s)||console.log("annaSaveNumItemsInResults() - Problem with updating count for item that was clicked")}}function annaSaveStepClicks(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(saveIntoAnna<0){var s=getCookie("gid");xhr_get(proxyURL+"/api/anna/"+global_finderId+"/clicks","POST","text","stepType="+a+"&stepId="+e+"&answerId="+t+"&sessionId="+globalStore.settings.a_sId+"&sessionValue="+s+"&fId="+global_finderId+"&shopId="+global_shopId+"&versionId="+global_versionId+"&local_tz="+global_localtimezone,"annaSaveStepClicks() - Problem with saving step interaction.").done((function(t){if(t){var a=findWithAttr(globalStore.finderObject,"id",e);global_leadStepLogIds[a]=t}}))}}function findWithAttr(e,t,a){for(var s=0;s<e.length;s+=1)if(e[s][t]===a)return s;return-1}function annaSaveResults(){var e=resultsReplacer(tagSelectionObj.steps);xhr_get(proxyURL+"/api/anna/"+global_finderId+"/results","POST","JSON","shopId="+global_shopId+"&fId="+global_finderId+"&uniqueSessionResultView="+uniqueSessionResultView+"&uniqueSession="+globalStore.settings.uniqueSession+"&a_sId="+globalStore.settings.a_sId+"&results_url="+removeParam(finder_url_parameter_name,URL_refresh)+"&number_of_steps="+finder.getSlideCount()+"&step_results="+JSON.stringify(e)+"&step_breadcrumb="+JSON.stringify(global_breadcrumbHistory)+"&shopperId="+globalStore.settings.a_sId+"&resultTitle="+globalStore.settings.results_headline+"&versionId="+global_versionId+"&local_tz="+global_localtimezone,"Problem with saving analtyics data for results.").done((function(e){var t=e;globalStore.settings.uniqueSession=!1,runDisplayofResults(t)}))}},loadScript=function(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)};loadScript("//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js",(function(){jQuery191=jQuery.noConflict(!0),Guidelines(jQuery191)}))}(window)},588:function(e,t,a){e.exports=a(158)}});